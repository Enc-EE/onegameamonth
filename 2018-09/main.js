!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){function e(){var e=this;this.animations=[],this.updates=[],this.resize=function(){console.log("canvas resizing"),e.canvas.width=e.canvas.clientWidth,e.canvas.height=e.canvas.clientHeight},this.isRunning=!1,this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)},this.addView=function(t){e.addAnimatable(t),t.width=e.width,t.height=e.height},this.removeView=function(t){e.removeAnimatable(t)},this.fps=40,this.fpsInterval=1e3/this.fps,this.animate=function(){e.isRunning&&requestAnimationFrame(e.animate);var t=Date.now(),n=t-e.lastFrameTime;if(n>e.fpsInterval){e.lastFrameTime=t;for(var o=n/1e3,i=0,r=e.updates;i<r.length;i++){(0,r[i])(o)}e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height);for(var a=0,s=e.animations;a<s.length;a++){(0,s[a])(e.ctx,e.canvas.width,e.canvas.height)}}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),e.createInBody=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var n=new e;return n.canvas=t,n.ctx=t.getContext("2d"),document.addEventListener("keyup",function(e){80==e.keyCode&&n.playPause(),console.log(e.keyCode)}),n.startAnimation(),n.resize(),window.addEventListener("resize",n.resize),n},e.prototype.startAnimation=function(){console.log("start animation"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animate()},e.prototype.stopAnimation=function(){console.log("stop animation"),this.isRunning=!1},e.prototype.playPause=function(){this.isRunning?this.stopAnimation():this.startAnimation()},e}(),i=function(){return function(){var e=this;this.animations=[],this.updates=[],this.isVisible=!0,this.update=function(t){if(e.isVisible)for(var n=0,o=e.updates;n<o.length;n++)(0,o[n])(t)},this.draw=function(t,n,o){if(e.isVisible)for(var i=0,r=e.animations;i<r.length;i++)(0,r[i])(t,n,o)},this.show=function(){e.isVisible=!0},this.hide=function(){e.isVisible=!1},this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)}}}(),r=function(){function e(e,t,n,o,i){var r=this;this.controller=e,this.onShow=t,this.onAdd=n,this.onRemove=o,this.start=i,this.isShown=!1,this.isAdded=!1,this.addTimerSeconds=1.5,this.removeTimerSeconds=2.5,this.rememberedX=0,this.rememberedY=0,this.location=0,this.update=function(e){r.isShown?r.isAdded?(r.angle=r.angle+Math.PI/9,r.angle=r.angle%(2*Math.PI),r.x=r.rememberedX+25*r.controller.xAxes,r.y=r.rememberedY+25*r.controller.yAxes,r.controller.yAxes>.3?(r.addTimer+=r.controller.yAxes*e,r.addTimer>=r.removeTimerSeconds&&(r.addTimer=0,r.isShown=!1,r.isAdded=!1,r.onRemove(r))):r.controller.yAxes<.1&&(r.addTimer=0),r.controller.start&&(console.log("start"),r.start())):r.controller.yAxes<-.3?(r.addTimer-=r.controller.yAxes*e,r.addTimer>=r.addTimerSeconds&&(r.onAdd(r),r.isAdded=!0,r.addTimer=0)):r.controller.yAxes>-.1&&(r.addTimer=0,r.isShown=!1,r.onRemove(r)):r.controller.yAxes<-.3&&(r.onShow(r),r.isShown=!0,r.addTimer-=r.controller.yAxes*e)},this.draw=function(e,t,n){if(r.location>0){console.log(r.location);var o="black",i=0,a=0;switch(r.location){case 1:o="red",i=t/3,a=(n-100)/3+100;break;case 2:o="green",i=t/3*2,a=(n-100)/3+100;break;case 3:o="blue",i=t/3,a=(n-100)/3*2+100;break;case 4:o="orange",i=t/3*2,a=(n-100)/3*2+100}r.color=o,r.x=i,r.y=a,r.rememberedX=i,r.rememberedY=a,r.location=0}e.fillStyle=r.color,e.save(),e.translate(r.x,r.y),r.isAdded&&(e.save(),e.rotate(r.angle),e.fillRect(-25,-25,50,50),e.restore()),r.isShown&&!r.isAdded&&e.fillRect(-25,35,50/r.addTimerSeconds*r.addTimer,10),r.isShown&&r.isAdded&&r.addTimer>0&&e.fillRect(-25,35,50-50/r.removeTimerSeconds*r.addTimer,10),e.restore()},this.color="black",this.x=0,this.y=0,this.angle=0,this.addTimer=0}return Object.defineProperty(e.prototype,"controllerName",{get:function(){return this.controller.name},enumerable:!0,configurable:!0}),e}(),a=function(){return function(e,t,n,o,i,r){var a=this;this.name=e,this.xAxes=0,this.yAxes=0,this.start=!1,document.addEventListener("keydown",function(e){e.keyCode==n&&(a.xAxes=-1),e.keyCode==t&&(a.yAxes=-1),e.keyCode==i&&(a.xAxes=1),e.keyCode==o&&(a.yAxes=1),13==e.keyCode&&(a.start=!0),e.keyCode==r&&(a.a=!0)}),document.addEventListener("keyup",function(e){e.keyCode==n&&(a.xAxes=-1)&&(a.xAxes=0),e.keyCode==t&&(a.yAxes=-1)&&(a.yAxes=0),e.keyCode==i&&(a.xAxes=1)&&(a.xAxes=0),e.keyCode==o&&(a.yAxes=1)&&(a.yAxes=0),13==e.keyCode&&(a.start=!1),e.keyCode==r&&(a.a=!1)})}}(),s=function(){function e(e,t){this.name=e,this.index=t}return Object.defineProperty(e.prototype,"xAxes",{get:function(){return navigator.getGamepads()[this.index].axes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxes",{get:function(){return navigator.getGamepads()[this.index].axes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return navigator.getGamepads()[this.index].buttons[9].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return navigator.getGamepads()[this.index].buttons[0].pressed},enumerable:!0,configurable:!0}),e}(),d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=e.call(this)||this;n.start=t,n.menuBlades=[],n.controllers=[],n.gamepads={},n.showMenuBlade=function(e){console.log(e.controllerName),n.menuBlades.length<=4?(n.menuBlades.push(e),e.location=n.menuBlades.length):console.log("Sorry, only 4 controllers supported")},n.addController=function(e){n.controllers.push(e.controller),console.log("added controller "+e.controllerName)},n.removeControllerAndMenuBlade=function(e){n.menuBlades.splice(n.menuBlades.indexOf(e),1),n.controllers.splice(n.controllers.indexOf(e.controller),1),console.log("removed controller "+e.controllerName);for(var t=0;t<n.menuBlades.length;t++){n.menuBlades[t].location=t+1}},n.connecthandler=function(e){console.log("gamepad connected: "+e.gamepad.index+"/"+e.gamepad.id),n.addgamepad(e.gamepad)},n.scangamepads=function(){console.log("scangamepads");for(var e=navigator.getGamepads?navigator.getGamepads():[],t=0;t<e.length;t++)e[t]&&(console.log("scanned gamepad: "+e[t].index+"/"+e[t].id),e[t].index in n.gamepads?n.gamepads[e[t].index]=e[t]:n.addgamepad(e[t]))},n.disconnecthandler=function(e){console.log("gamepad disconnected: "+e.gamepad.index+"/"+e.gamepad.id),n.removegamepad(e.gamepad)},n.removegamepad=function(e){console.log("removing gamepad: "+e.index+"/"+e.id),delete n.gamepads[e.index];for(var t=0;t<n.menuBlades.length;t++){if(n.menuBlades[t].controllerName==e.index.toString()){n.menuBlades.splice(t,1);break}}},n.addgamepad=function(e){console.log("adding gamepad: "+e.index+"/"+e.id),n.gamepads[e.index]=e;var t=new r(new s(e.index.toString(),e.index),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,n.start);n.addAnimatable(t)};var o="ongamepadconnected"in window;n.addAnimation(function(e,t,n){e.fillStyle="black",e.textAlign="center",e.font="22px sans-serif",e.fillText("You can control a blade with a gamepad, the arrow keys (and +) or WASD (and q).",t/2,50),e.fillText("Press up to join and down to leave.",t/2,80),e.fillText("Press enter on keyboard or start on a controller to start.",t/2,110)});var i=new r(new a("arrows",38,37,40,39,187),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,t);n.addAnimatable(i);var d=new r(new a("wasd",87,65,83,68,81),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,t);n.addAnimatable(d);var l=new r(new a("tfgh",84,70,71,72,82),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,t);n.addAnimatable(l);var c=new r(new a("ijkl",73,74,75,76,85),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,t);return n.addAnimatable(c),window.addEventListener("gamepadconnected",n.connecthandler),window.addEventListener("gamepaddisconnected",n.disconnecthandler),console.log("haveEvents: "+o),o||(n.gamepadScanner=setInterval(n.scangamepads,500)),n}return d(t,e),t.prototype.unload=function(){clearInterval(this.gamepadScanner)},t}(i),c=function(){function e(e){var t=this;this.controller=e,this.update=function(e){if(t.rotations>0){var n=t.rotations/1e3*e*Math.PI*2;t.angle=t.angle+n,t.angle=t.angle%(2*Math.PI),t.controller.a?t.powerUpCurrent>0?(t.f=t.powerUpF,t.powerUpCurrent-=e):t.f=t.fStart:(t.f=t.fStart,t.powerUpCurrent<t.powerUpStart&&(t.powerUpCurrent+=e,t.powerUpCurrent>t.powerUpStart&&(t.powerUpCurrent=t.powerUpStart)));var o=.5*t.A*t.cw*t.p*t.vx*Math.abs(t.vx),i=.5*t.A*t.cw*t.p*t.vy*Math.abs(t.vy),r=t.f*t.controller.xAxes-o/t.m,a=t.f*t.controller.yAxes-i/t.m;t.vx+=r*e,t.vy+=a*e,t.x+=t.vx*e,t.y+=t.vy*e}},this.draw=function(e,n,o){t.scorePosition?t.drawScore(e,n,o):(t.drawInfo(e,n,o),t.drawBlade(e))},this.iMDone=function(e){},this.x=0,this.y=0,this.vx=0,this.vy=0,this.angle=0,this.m=.1,this.f=463,this.fStart=463,this.powerUpF=2*this.f,this.powerUpStart=2,this.powerUpCurrent=this.powerUpStart,this.r=25,this.startRotations=2124,this.rotations=this.startRotations,this.A=.01,this.cw=.05,this.p=1}return e.prototype.collision=function(){var e=24+(this.vx*this.vx+this.vy*this.vy)/1492;this.rotations-=e,this.rotations<0&&(this.rotations=0,this.iMDone(this))},e.prototype.drawScore=function(e,t,n){e.fillStyle=this.getBladeColor(),e.font="76px sans-serif";var o=this.scorePosition.toString()+".";switch(this.bladeNumber){case 1:e.textBaseline="top",e.textAlign="left",e.fillText(o,30,30);break;case 2:e.textBaseline="top",e.textAlign="right",e.fillText(o,t-30,30);break;case 3:e.textBaseline="bottom",e.textAlign="left",e.fillText(o,30,n-30);break;case 4:e.textBaseline="bottom",e.textAlign="right",e.fillText(o,t-30,n-30)}},e.prototype.drawBlade=function(e){if(this.rotations>0){e.save(),e.translate(this.x,this.y),e.rotate(this.angle);var t=Math.sqrt(this.r*this.r/2);e.fillRect(-t,-t,2*t,2*t),e.restore()}},e.prototype.drawInfo=function(e,t,n){var o=this.rotations/this.startRotations*t/4,i=this.powerUpCurrent/this.powerUpStart*t/4;switch(e.fillStyle="rgba(148, 0, 211, 0.6)",(this.bladeNumber<1||this.bladeNumber>4)&&console.log("error?"),this.bladeNumber){case 1:e.fillRect(0,30,i,20);break;case 2:e.fillRect(t,30,-i,20);break;case 3:e.fillRect(0,n-30,i,-20);break;case 4:e.fillRect(t,n-30,-i,-20)}switch(e.fillStyle=this.getBladeColor(),this.bladeNumber){case 1:e.fillRect(0,0,o,30);break;case 2:e.fillRect(t,0,-o,30);break;case 3:e.fillRect(0,n,o,-30);break;case 4:e.fillRect(t,n,-o,-30)}},e.prototype.getBladeColor=function(){switch(this.bladeNumber){case 1:return"red";case 2:return"green";case 3:return"blue";case 4:return"orange";default:return"black"}},e}(),h=function(){function e(e,t,n){var o=this;this.blades=e,this.borderRight=t,this.borderBottom=n,this.update=function(e){for(var t=0;t<o.blades.length;t++){var n=o.blades[t];o.wallCollision(n);for(var i=0;i<o.blades.length;i++)if(!(i<=t)){var r=o.blades[i],a=r.x-n.x,s=r.y-n.y,d=Math.sqrt(a*a+s*s);d<=2*n.r&&(console.log("collision"),o.positionCorrection(d,n,a,s,r),o.collisionV2(s,a,n,r))}}},this.draw=function(e,t,n){}}return e.prototype.wallCollision=function(e){e.x-e.r<0?(e.vx=-e.vx,e.x=e.r-e.x+e.r,e.collision()):e.x+e.r>this.borderRight&&(e.vx=-e.vx,e.x=this.borderRight-(e.x+e.r-this.borderRight)-e.r,e.collision()),e.y-e.r<0?(e.vy=-e.vy,e.y=e.r-e.y+e.r,e.collision()):e.y+e.r>this.borderBottom&&(e.vy=-e.vy,e.y=this.borderBottom-(e.y+e.r-this.borderBottom)-e.r,e.collision())},e.prototype.collisionV2=function(e,t,n,o){var i=Math.sqrt(t*t+e*e),r=2*n.vx*n.m,a=2*n.vy*n.m,s=Math.sqrt(r*r+a*a),d=t/i*s,l=e/i*s,c=3*o.vx*o.m,h=3*o.vy*o.m,u=Math.sqrt(c*c+h*h),p=-t/i*u,m=-e/i*u;o.vx+=d/o.m,o.vy+=l/o.m,n.vx+=p/n.m,n.vy+=m/n.m},e.prototype.positionCorrection=function(e,t,n,o,i){var r=(e-2*t.r)/2/e,a=r*n,s=r*o;t.x+=a,t.y+=s,i.x-=a,i.y-=s},e}(),u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.started=!1,t.blades=[],t.bladeIsDone=function(e){console.log("blade is done, score: "+t.scorePosition),e.scorePosition=t.scorePosition,t.scorePosition--},t}return u(t,e),t.prototype.start=function(e){if(!this.started){this.started=!0,this.addAnimation(function(e,t,n){e.fillStyle="rgb(191, 191, 191)",e.textAlign="center",e.font="62px sans-serif",e.fillText("Don't hit the border ;)",t/2,n/2-20)}),console.log(e),this.scorePosition=e.length;for(var t=0;t<e.length;t++){var n=e[t],o=new c(n),i=0,r=0;switch(t+1){case 1:i=this.width/3,r=this.height/3;break;case 2:i=this.width/3*2,r=this.height/3;break;case 3:i=this.width/3,r=this.height/3*2;break;case 4:i=this.width/3*2,r=this.height/3*2}o.bladeNumber=t+1,o.x=i,o.y=r,o.iMDone=this.bladeIsDone,this.blades.push(o),this.addAnimatable(o)}this.addAnimatable(new h(this.blades,this.width,this.height))}},t}(i),m=function(){function e(){var e=this;this.start=function(){e.menu.hide(),e.menu.unload(),e.game.show(),e.game.start(e.menu.controllers)}}return e.prototype.run=function(){this.animation=o.createInBody(),this.menu=new l(this.start),this.game=new p,this.animation.addView(this.menu),this.animation.addView(this.game),this.game.hide()},e}();document.addEventListener("DOMContentLoaded",function(){(new m).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9hbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy92aWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9tZW51QmxhZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9rZXlib2FyZENvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvZ2FtZXBhZENvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9tZW51Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxhZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbGxpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkFuaW1hdGlvbiIsIl90aGlzIiwidGhpcyIsImFuaW1hdGlvbnMiLCJ1cGRhdGVzIiwicmVzaXplIiwiY29uc29sZSIsImxvZyIsImNhbnZhcyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJpc1J1bm5pbmciLCJhZGRBbmltYXRpb24iLCJmdW5jIiwicHVzaCIsInJlbW92ZUFuaW1hdGlvbiIsInNwbGljZSIsImluZGV4T2YiLCJhZGRVcGRhdGUiLCJyZW1vdmVVcGRhdGUiLCJhZGRBbmltYXRhYmxlIiwiYW5pbWF0YWJsZSIsInVwZGF0ZSIsImRyYXciLCJyZW1vdmVBbmltYXRhYmxlIiwiYWRkVmlldyIsInZpZXciLCJyZW1vdmVWaWV3IiwiZnBzIiwiZnBzSW50ZXJ2YWwiLCJhbmltYXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibm93IiwiRGF0ZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidGltZURpZmYiLCJfaSIsIl9hIiwibGVuZ3RoIiwiY3R4IiwiY2xlYXJSZWN0IiwiX2IiLCJfYyIsImNyZWF0ZUluQm9keSIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiYW5pbWF0aW9uIiwiZ2V0Q29udGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleUNvZGUiLCJwbGF5UGF1c2UiLCJzdGFydEFuaW1hdGlvbiIsIndpbmRvdyIsInN0b3BBbmltYXRpb24iLCJWaWV3IiwiaXNWaXNpYmxlIiwic2hvdyIsImhpZGUiLCJNZW51QmxhZGUiLCJjb250cm9sbGVyIiwib25TaG93Iiwib25BZGQiLCJvblJlbW92ZSIsInN0YXJ0IiwiaXNTaG93biIsImlzQWRkZWQiLCJhZGRUaW1lclNlY29uZHMiLCJyZW1vdmVUaW1lclNlY29uZHMiLCJyZW1lbWJlcmVkWCIsInJlbWVtYmVyZWRZIiwibG9jYXRpb24iLCJhbmdsZSIsIk1hdGgiLCJQSSIsIngiLCJ4QXhlcyIsInkiLCJ5QXhlcyIsImFkZFRpbWVyIiwiY29sb3IiLCJzdGFydFgiLCJzdGFydFkiLCJmaWxsU3R5bGUiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwiZmlsbFJlY3QiLCJyZXN0b3JlIiwiS2V5Ym9hcmRDb250cm9scyIsInVwS2V5IiwibGVmdEtleSIsImRvd25LZXkiLCJyaWdodEtleSIsImEiLCJHYW1lcGFkQ29udHJvbHMiLCJpbmRleCIsIm5hdmlnYXRvciIsImdldEdhbWVwYWRzIiwiYXhlcyIsImJ1dHRvbnMiLCJwcmVzc2VkIiwibWVudVZpZXdfTWVudVZpZXciLCJfc3VwZXIiLCJNZW51VmlldyIsIm1lbnVCbGFkZXMiLCJjb250cm9sbGVycyIsImdhbWVwYWRzIiwic2hvd01lbnVCbGFkZSIsIm1lbnVCbGFkZSIsImNvbnRyb2xsZXJOYW1lIiwiYWRkQ29udHJvbGxlciIsInJlbW92ZUNvbnRyb2xsZXJBbmRNZW51QmxhZGUiLCJjb25uZWN0aGFuZGxlciIsImUiLCJnYW1lcGFkIiwiaWQiLCJhZGRnYW1lcGFkIiwic2NhbmdhbWVwYWRzIiwiZGlzY29ubmVjdGhhbmRsZXIiLCJyZW1vdmVnYW1lcGFkIiwidG9TdHJpbmciLCJibGFkZSIsImhhdmVFdmVudHMiLCJ0ZXh0QWxpZ24iLCJmb250IiwiZmlsbFRleHQiLCJibGFkZTEiLCJibGFkZTIiLCJibGFkZTMiLCJibGFkZTQiLCJnYW1lcGFkU2Nhbm5lciIsInNldEludGVydmFsIiwiX19leHRlbmRzIiwidW5sb2FkIiwiY2xlYXJJbnRlcnZhbCIsIkJsYWRlIiwicm90YXRpb25zIiwicG93ZXJVcEN1cnJlbnQiLCJmIiwicG93ZXJVcEYiLCJmU3RhcnQiLCJwb3dlclVwU3RhcnQiLCJmRnJpY3Rpb25YIiwiQSIsImN3IiwidngiLCJhYnMiLCJmRnJpY3Rpb25ZIiwidnkiLCJheCIsImF5Iiwic2NvcmVQb3NpdGlvbiIsImRyYXdTY29yZSIsImRyYXdJbmZvIiwiZHJhd0JsYWRlIiwiaU1Eb25lIiwic3RhcnRSb3RhdGlvbnMiLCJjb2xsaXNpb24iLCJkYW1hZ2UiLCJnZXRCbGFkZUNvbG9yIiwidGV4dCIsImJsYWRlTnVtYmVyIiwidGV4dEJhc2VsaW5lIiwiY3ViZVNpemUiLCJzcXJ0IiwibGlmZSIsInBvd2VyVXAiLCJDb2xsaWRlciIsImJsYWRlcyIsImJvcmRlclJpZ2h0IiwiYm9yZGVyQm90dG9tIiwid2FsbENvbGxpc2lvbiIsImoiLCJkaXN0YW5jZVgiLCJkaXN0YW5jZVkiLCJkaXN0YW5jZSIsInBvc2l0aW9uQ29ycmVjdGlvbiIsImNvbGxpc2lvblYyIiwicDF4IiwicDF5IiwicDEiLCJwMXhBbmdsZWQiLCJwMXlBbmdsZWQiLCJwMngiLCJwMnkiLCJwMiIsInAyeEFuZ2xlZCIsInAyeUFuZ2xlZCIsImNvcnJlY3Rpb25GYWN0b3IiLCJjb3JyZWN0aW9ueCIsImNvcnJlY3Rpb255IiwiZ2FtZVZpZXdfR2FtZVZpZXciLCJHYW1lVmlldyIsImFwcGx5IiwiYXJndW1lbnRzIiwic3RhcnRlZCIsImJsYWRlSXNEb25lIiwiZ2FtZVZpZXdfZXh0ZW5kcyIsImFwcF9BcHAiLCJBcHAiLCJtZW51IiwiZ2FtZSIsInJ1biJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdB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QyxLQUFLZ04sS0FBTyxJQUFJbkcsRUFBUzdHLEtBQUt1RSxPQUM5QnZFLEtBQUtpTixLQUFPLElBQUlWLEVBQ2hCdk0sS0FBS3FELFVBQVU1QixRQUFRekIsS0FBS2dOLE1BQzVCaE4sS0FBS3FELFVBQVU1QixRQUFRekIsS0FBS2lOLE1BQzVCak4sS0FBS2lOLEtBQUtoSixRQVNsQjhJLEVBcEJBLEdDSEFsSyxTQUFTVSxpQkFBaUIsbUJBRTFCLFlBQ2MsSUFBSXVKLEdBQ1pJLFFBSjhDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vdmlld1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgQW5pbWF0aW9uRnVuY3Rpb24gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHZvaWQ7XHJcbmV4cG9ydCB0eXBlIFVwZGF0ZUZ1bmN0aW9uID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGFibGUge1xyXG4gICAgdXBkYXRlOiBVcGRhdGVGdW5jdGlvbjtcclxuICAgIGRyYXc6IEFuaW1hdGlvbkZ1bmN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uIHtcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbnM6IEFuaW1hdGlvbkZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgdXBkYXRlczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVJbkJvZHkoKTogQW5pbWF0aW9uIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgYW5pbWF0aW9uLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA4MCkgeyAvLyBzcGFjZVxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnBsYXlQYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmtleUNvZGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhbmltYXRpb24uc3RhcnRBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24ucmVzaXplKCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYW5pbWF0aW9uLnJlc2l6ZSk7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FudmFzIHJlc2l6aW5nXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnRBbmltYXRpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdGFydCBhbmltYXRpb25cIik7XHJcblxyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgc3RvcEFuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0b3AgYW5pbWF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMuc3RvcEFuaW1hdGlvbigpIDogdGhpcy5zdGFydEFuaW1hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goYW5pbWF0YWJsZS51cGRhdGUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGFibGUuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoYW5pbWF0YWJsZS51cGRhdGUpLCAxKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGFibGUuZHJhdyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRWaWV3ID0gKHZpZXc6IFZpZXcpID0+IHtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUodmlldyk7XHJcbiAgICAgICAgdmlldy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgdmlldy5oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVmlldyA9ICh2aWV3OiBWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbmltYXRhYmxlKHZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHMgPSA0MDtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWwgPSAxMDAwIC8gdGhpcy5mcHM7XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG5cclxuICAgICAgICBpZiAoZWxhcHNlZCA+IHRoaXMuZnBzSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gbm93O1xyXG4gICAgICAgICAgICB2YXIgdGltZURpZmYgPSBlbGFwc2VkIC8gMTAwMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHRoaXMudXBkYXRlcykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRlIG9mIHRoaXMuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSh0aGlzLmN0eCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRpb25GdW5jdGlvbiwgVXBkYXRlRnVuY3Rpb24sIEFuaW1hdGFibGUsIEFuaW1hdGlvbiB9IGZyb20gXCIuL2FuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXcgaW1wbGVtZW50cyBBbmltYXRhYmxlIHtcclxuICAgIHB1YmxpYyBhbmltYXRpb25zOiBBbmltYXRpb25GdW5jdGlvbltdID0gW107XHJcbiAgICBwdWJsaWMgdXBkYXRlczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1Zpc2libGUgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xyXG4gICAgcHVibGljIGhlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB0aGlzLnVwZGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSh0aW1lRGlmZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFuaW1hdGUgb2YgdGhpcy5hbmltYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRlKGN0eCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoaWRlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuaW1hdGlvbiA9IChmdW5jOiBBbmltYXRpb25GdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVXBkYXRlID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRhYmxlID0gKGFuaW1hdGFibGU6IEFuaW1hdGFibGUpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMucHVzaChhbmltYXRhYmxlLnVwZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbWF0YWJsZS5kcmF3KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnNwbGljZSh0aGlzLnVwZGF0ZXMuaW5kZXhPZihhbmltYXRhYmxlLnVwZGF0ZSksIDEpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodGhpcy5hbmltYXRpb25zLmluZGV4T2YoYW5pbWF0YWJsZS5kcmF3KSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRhYmxlIH0gZnJvbSBcIi4vZW5jL2FuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vZW5jL2NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51QmxhZGUgaW1wbGVtZW50cyBBbmltYXRhYmxlIHtcclxuICAgIHByaXZhdGUgYW5nbGU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgaXNTaG93biA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBpc0FkZGVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGFkZFRpbWVyOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGFkZFRpbWVyU2Vjb25kcyA9IDEuNTtcclxuICAgIHByaXZhdGUgcmVtb3ZlVGltZXJTZWNvbmRzID0gMi41O1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlbWVtYmVyZWRYID0gMDtcclxuICAgIHByaXZhdGUgcmVtZW1iZXJlZFkgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBsb2NhdGlvbiA9IDA7XHJcblxyXG4gICAgcHVibGljIGNvbG9yOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIGdldCBjb250cm9sbGVyTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgY29udHJvbGxlcjogQ29udHJvbGxlciwgcHJpdmF0ZSBvblNob3c6IChibGFkZTogTWVudUJsYWRlKSA9PiB2b2lkLCBwcml2YXRlIG9uQWRkOiAoYmxhZGU6IE1lbnVCbGFkZSkgPT4gdm9pZCwgcHJpdmF0ZSBvblJlbW92ZTogKGJsYWRlOiBNZW51QmxhZGUpID0+IHZvaWQsIHByaXZhdGUgc3RhcnQ6ICgpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLmNvbG9yID0gXCJibGFja1wiO1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLmFuZ2xlID0gMDtcclxuICAgICAgICB0aGlzLmFkZFRpbWVyID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Nob3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQWRkZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5nbGUgPSB0aGlzLmFuZ2xlICsgTWF0aC5QSSAvIDk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlID0gdGhpcy5hbmdsZSAlIChNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLnJlbWVtYmVyZWRYICsgdGhpcy5jb250cm9sbGVyLnhBeGVzICogMjU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSB0aGlzLnJlbWVtYmVyZWRZICsgdGhpcy5jb250cm9sbGVyLnlBeGVzICogMjU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlci55QXhlcyA+IDAuMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGltZXIgKz0gdGhpcy5jb250cm9sbGVyLnlBeGVzICogdGltZURpZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkVGltZXIgPj0gdGhpcy5yZW1vdmVUaW1lclNlY29uZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUaW1lciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQWRkZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlbW92ZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJvbGxlci55QXhlcyA8IDAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGltZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIuc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIueUF4ZXMgPCAtMC4zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUaW1lciAtPSB0aGlzLmNvbnRyb2xsZXIueUF4ZXMgKiB0aW1lRGlmZjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkVGltZXIgPj0gdGhpcy5hZGRUaW1lclNlY29uZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkFkZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0FkZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUaW1lciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRyb2xsZXIueUF4ZXMgPiAtMC4xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUaW1lciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlbW92ZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIueUF4ZXMgPCAtMC4zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2hvdyh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRpbWVyIC09IHRoaXMuY29udHJvbGxlci55QXhlcyAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5sb2NhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5sb2NhdGlvbik7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29sb3IgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIGxldCBzdGFydFggPSAwO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRZID0gMDtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHdpZHRoIC8gMztcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFkgPSAoaGVpZ2h0IC0gMTAwKSAvIDMgKyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcImdyZWVuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gd2lkdGggLyAzICogMjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFkgPSAoaGVpZ2h0IC0gMTAwKSAvIDMgKyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcImJsdWVcIjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSB3aWR0aCAvIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRZID0gKGhlaWdodCAtIDEwMCkgLyAzICogMiArIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwib3JhbmdlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gd2lkdGggLyAzICogMjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFkgPSAoaGVpZ2h0IC0gMTAwKSAvIDMgKiAyICsgMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICAgICAgdGhpcy54ID0gc3RhcnRYO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSBzdGFydFk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtZW1iZXJlZFggPSBzdGFydFg7XHJcbiAgICAgICAgICAgIHRoaXMucmVtZW1iZXJlZFkgPSBzdGFydFk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBZGRlZCkge1xyXG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoLTI1LCAtMjUsIDUwLCA1MCk7XHJcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1Nob3duICYmICF0aGlzLmlzQWRkZWQpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KC0yNSwgMzUsIDUwIC8gdGhpcy5hZGRUaW1lclNlY29uZHMgKiB0aGlzLmFkZFRpbWVyLCAxMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMuaXNBZGRlZCAmJiB0aGlzLmFkZFRpbWVyID4gMCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoLTI1LCAzNSwgNTAgLSA1MCAvIHRoaXMucmVtb3ZlVGltZXJTZWNvbmRzICogdGhpcy5hZGRUaW1lciwgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgS2V5Ym9hcmRDb250cm9scyBpbXBsZW1lbnRzIENvbnRyb2xsZXIge1xyXG4gICAgcHVibGljIGE6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgeEF4ZXM6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5QXhlczogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBzdGFydDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCB1cEtleTogbnVtYmVyLCBsZWZ0S2V5OiBudW1iZXIsIGRvd25LZXk6IG51bWJlciwgcmlnaHRLZXk6IG51bWJlciwgYTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy54QXhlcyA9IDA7XHJcbiAgICAgICAgdGhpcy55QXhlcyA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGxlZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAtMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHVwS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gcmlnaHRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGRvd25LZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmEgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGxlZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnhBeGVzID0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnhBeGVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSB1cEtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueUF4ZXMgPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHJpZ2h0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy54QXhlcyA9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnhBeGVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBkb3duS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55QXhlcyA9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVwYWRDb250cm9scyBpbXBsZW1lbnRzIENvbnRyb2xsZXIge1xyXG4gICAgcHVibGljIGdldCB4QXhlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5heGVzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgeUF4ZXMoKTogbnVtYmVyIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYXhlc1sxXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHN0YXJ0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5idXR0b25zWzldLnByZXNzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBhKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5idXR0b25zWzBdLnByZXNzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHJpdmF0ZSBpbmRleDogbnVtYmVyKSB7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vZW5jL3ZpZXdcIjtcclxuaW1wb3J0IHsgTWVudUJsYWRlIH0gZnJvbSBcIi4vbWVudUJsYWRlXCI7XHJcbmltcG9ydCB7IEtleWJvYXJkQ29udHJvbHMgfSBmcm9tIFwiLi9lbmMva2V5Ym9hcmRDb250cm9sc1wiO1xyXG5pbXBvcnQgeyBHYW1lcGFkQ29udHJvbHMgfSBmcm9tIFwiLi9lbmMvZ2FtZXBhZENvbnRyb2xzXCI7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiLi9lbmMvY29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVWaWV3IGV4dGVuZHMgVmlldyB7XHJcbiAgICBwcml2YXRlIG1lbnVCbGFkZXM6IE1lbnVCbGFkZVtdID0gW107XHJcbiAgICBwdWJsaWMgY29udHJvbGxlcnM6IENvbnRyb2xsZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBnYW1lcGFkczogeyBbaWQ6IHN0cmluZ106IEdhbWVwYWQgfSA9IHt9O1xyXG4gICAgZ2FtZXBhZFNjYW5uZXI6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXJ0OiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB2YXIgaGF2ZUV2ZW50cyA9ICdvbmdhbWVwYWRjb25uZWN0ZWQnIGluIHdpbmRvdztcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbigoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgICAgICBjdHguZm9udCA9IFwiMjJweCBzYW5zLXNlcmlmXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChcIllvdSBjYW4gY29udHJvbCBhIGJsYWRlIHdpdGggYSBnYW1lcGFkLCB0aGUgYXJyb3cga2V5cyAoYW5kICspIG9yIFdBU0QgKGFuZCBxKS5cIiwgd2lkdGggLyAyLCA1MCk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChcIlByZXNzIHVwIHRvIGpvaW4gYW5kIGRvd24gdG8gbGVhdmUuXCIsIHdpZHRoIC8gMiwgODApO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQoXCJQcmVzcyBlbnRlciBvbiBrZXlib2FyZCBvciBzdGFydCBvbiBhIGNvbnRyb2xsZXIgdG8gc3RhcnQuXCIsIHdpZHRoIC8gMiwgMTEwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgYmxhZGUxID0gbmV3IE1lbnVCbGFkZShuZXcgS2V5Ym9hcmRDb250cm9scyhcImFycm93c1wiLCAzOCwgMzcsIDQwLCAzOSwgMTg3KSwgdGhpcy5zaG93TWVudUJsYWRlLCB0aGlzLmFkZENvbnRyb2xsZXIsIHRoaXMucmVtb3ZlQ29udHJvbGxlckFuZE1lbnVCbGFkZSwgc3RhcnQpO1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZShibGFkZTEpO1xyXG4gICAgICAgIHZhciBibGFkZTIgPSBuZXcgTWVudUJsYWRlKG5ldyBLZXlib2FyZENvbnRyb2xzKFwid2FzZFwiLCA4NywgNjUsIDgzLCA2OCwgODEpLCB0aGlzLnNob3dNZW51QmxhZGUsIHRoaXMuYWRkQ29udHJvbGxlciwgdGhpcy5yZW1vdmVDb250cm9sbGVyQW5kTWVudUJsYWRlLCBzdGFydCk7XHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKGJsYWRlMik7XHJcbiAgICAgICAgdmFyIGJsYWRlMyA9IG5ldyBNZW51QmxhZGUobmV3IEtleWJvYXJkQ29udHJvbHMoXCJ0ZmdoXCIsIDg0LCA3MCwgNzEsIDcyLCA4MiksIHRoaXMuc2hvd01lbnVCbGFkZSwgdGhpcy5hZGRDb250cm9sbGVyLCB0aGlzLnJlbW92ZUNvbnRyb2xsZXJBbmRNZW51QmxhZGUsIHN0YXJ0KTtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUoYmxhZGUzKTtcclxuICAgICAgICB2YXIgYmxhZGU0ID0gbmV3IE1lbnVCbGFkZShuZXcgS2V5Ym9hcmRDb250cm9scyhcImlqa2xcIiwgNzMsIDc0LCA3NSwgNzYsIDg1KSwgdGhpcy5zaG93TWVudUJsYWRlLCB0aGlzLmFkZENvbnRyb2xsZXIsIHRoaXMucmVtb3ZlQ29udHJvbGxlckFuZE1lbnVCbGFkZSwgc3RhcnQpO1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZShibGFkZTQpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRjb25uZWN0ZWRcIiwgdGhpcy5jb25uZWN0aGFuZGxlcik7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkZGlzY29ubmVjdGVkXCIsIHRoaXMuZGlzY29ubmVjdGhhbmRsZXIpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImhhdmVFdmVudHM6IFwiICsgaGF2ZUV2ZW50cyk7XHJcblxyXG4gICAgICAgIGlmICghaGF2ZUV2ZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVwYWRTY2FubmVyID0gc2V0SW50ZXJ2YWwodGhpcy5zY2FuZ2FtZXBhZHMsIDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1bmxvYWQoKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmdhbWVwYWRTY2FubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dNZW51QmxhZGUgPSAobWVudUJsYWRlOiBNZW51QmxhZGUpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhtZW51QmxhZGUuY29udHJvbGxlck5hbWUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tZW51QmxhZGVzLmxlbmd0aCA8PSA0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVudUJsYWRlcy5wdXNoKG1lbnVCbGFkZSk7XHJcbiAgICAgICAgICAgIG1lbnVCbGFkZS5sb2NhdGlvbiA9IHRoaXMubWVudUJsYWRlcy5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTb3JyeSwgb25seSA0IGNvbnRyb2xsZXJzIHN1cHBvcnRlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDb250cm9sbGVyID0gKG1lbnVCbGFkZTogTWVudUJsYWRlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVycy5wdXNoKG1lbnVCbGFkZS5jb250cm9sbGVyKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWRkZWQgY29udHJvbGxlciBcIiArIG1lbnVCbGFkZS5jb250cm9sbGVyTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVDb250cm9sbGVyQW5kTWVudUJsYWRlID0gKG1lbnVCbGFkZTogTWVudUJsYWRlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tZW51QmxhZGVzLnNwbGljZSh0aGlzLm1lbnVCbGFkZXMuaW5kZXhPZihtZW51QmxhZGUpLCAxKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzLnNwbGljZSh0aGlzLmNvbnRyb2xsZXJzLmluZGV4T2YobWVudUJsYWRlLmNvbnRyb2xsZXIpLCAxKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmVkIGNvbnRyb2xsZXIgXCIgKyBtZW51QmxhZGUuY29udHJvbGxlck5hbWUpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW51QmxhZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lbnVCbGFkZSA9IHRoaXMubWVudUJsYWRlc1tpXTtcclxuICAgICAgICAgICAgbWVudUJsYWRlLmxvY2F0aW9uID0gaSArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RoYW5kbGVyID0gKGU6IEdhbWVwYWRFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2FtZXBhZCBjb25uZWN0ZWQ6IFwiICsgZS5nYW1lcGFkLmluZGV4ICsgXCIvXCIgKyBlLmdhbWVwYWQuaWQpO1xyXG4gICAgICAgIHRoaXMuYWRkZ2FtZXBhZChlLmdhbWVwYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNjYW5nYW1lcGFkcyA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInNjYW5nYW1lcGFkc1wiKTtcclxuXHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzID8gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCkgOiBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhbWVwYWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lcGFkc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzY2FubmVkIGdhbWVwYWQ6IFwiICsgZ2FtZXBhZHNbaV0uaW5kZXggKyBcIi9cIiArIGdhbWVwYWRzW2ldLmlkKTtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lcGFkc1tpXS5pbmRleCBpbiB0aGlzLmdhbWVwYWRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkc1tnYW1lcGFkc1tpXS5pbmRleF0gPSBnYW1lcGFkc1tpXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRnYW1lcGFkKGdhbWVwYWRzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNjb25uZWN0aGFuZGxlciA9IChlOiBHYW1lcGFkRXZlbnQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImdhbWVwYWQgZGlzY29ubmVjdGVkOiBcIiArIGUuZ2FtZXBhZC5pbmRleCArIFwiL1wiICsgZS5nYW1lcGFkLmlkKTtcclxuICAgICAgICB0aGlzLnJlbW92ZWdhbWVwYWQoZS5nYW1lcGFkKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVnYW1lcGFkID0gKGdhbWVwYWQ6IEdhbWVwYWQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92aW5nIGdhbWVwYWQ6IFwiICsgZ2FtZXBhZC5pbmRleCArIFwiL1wiICsgZ2FtZXBhZC5pZCk7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZ2FtZXBhZHNbZ2FtZXBhZC5pbmRleF07XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnVCbGFkZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbWVudUJsYWRlID0gdGhpcy5tZW51QmxhZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAobWVudUJsYWRlLmNvbnRyb2xsZXJOYW1lID09IGdhbWVwYWQuaW5kZXgudG9TdHJpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZW51QmxhZGVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZGdhbWVwYWQgPSAoZ2FtZXBhZDogR2FtZXBhZCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWRkaW5nIGdhbWVwYWQ6IFwiICsgZ2FtZXBhZC5pbmRleCArIFwiL1wiICsgZ2FtZXBhZC5pZCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZXBhZHNbZ2FtZXBhZC5pbmRleF0gPSBnYW1lcGFkO1xyXG4gICAgICAgIHZhciBibGFkZSA9IG5ldyBNZW51QmxhZGUobmV3IEdhbWVwYWRDb250cm9scyhnYW1lcGFkLmluZGV4LnRvU3RyaW5nKCksIGdhbWVwYWQuaW5kZXgpLCB0aGlzLnNob3dNZW51QmxhZGUsIHRoaXMuYWRkQ29udHJvbGxlciwgdGhpcy5yZW1vdmVDb250cm9sbGVyQW5kTWVudUJsYWRlLCB0aGlzLnN0YXJ0KTtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUoYmxhZGUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0YWJsZSB9IGZyb20gXCIuL2VuYy9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmxhZGUgaW1wbGVtZW50cyBBbmltYXRhYmxlIHtcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcHVibGljIGJsYWRlTnVtYmVyOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdng6IG51bWJlcjtcclxuICAgIHB1YmxpYyB2eTogbnVtYmVyO1xyXG4gICAgcHVibGljIHI6IG51bWJlcjtcclxuICAgIHByaXZhdGUgc3RhcnRSb3RhdGlvbnM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcm90YXRpb25zOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGFuZ2xlOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZTdGFydDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBBOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGN3OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHA6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIHBvd2VyVXBGOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBvd2VyVXBTdGFydDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBwb3dlclVwQ3VycmVudDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udHJvbGxlcjogQ29udHJvbGxlcikge1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLnZ4ID0gMDtcclxuICAgICAgICB0aGlzLnZ5ID0gMDtcclxuICAgICAgICB0aGlzLmFuZ2xlID0gMDtcclxuICAgICAgICB0aGlzLm0gPSAwLjE7XHJcbiAgICAgICAgdGhpcy5mID0gNDYzO1xyXG4gICAgICAgIHRoaXMuZlN0YXJ0ID0gNDYzO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcEYgPSB0aGlzLmYgKiAyO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcFN0YXJ0ID0gMjtcclxuICAgICAgICB0aGlzLnBvd2VyVXBDdXJyZW50ID0gdGhpcy5wb3dlclVwU3RhcnQ7XHJcbiAgICAgICAgdGhpcy5yID0gMjU7XHJcbiAgICAgICAgdGhpcy5zdGFydFJvdGF0aW9ucyA9IDIxMjQ7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbnMgPSB0aGlzLnN0YXJ0Um90YXRpb25zO1xyXG5cclxuICAgICAgICB0aGlzLkEgPSAwLjAxO1xyXG4gICAgICAgIHRoaXMuY3cgPSAwLjA1O1xyXG4gICAgICAgIHRoaXMucCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbGxpc2lvbigpIHtcclxuICAgICAgICB2YXIgZGFtYWdlID0gMjQgKyAodGhpcy52eCAqIHRoaXMudnggKyB0aGlzLnZ5ICogdGhpcy52eSkgLyAxNDkyO1xyXG4gICAgICAgIHRoaXMucm90YXRpb25zIC09IGRhbWFnZTtcclxuICAgICAgICBpZiAodGhpcy5yb3RhdGlvbnMgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25zID0gMDtcclxuICAgICAgICAgICAgdGhpcy5pTURvbmUodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnJvdGF0aW9ucyA+IDApIHtcclxuICAgICAgICAgICAgdmFyIHJvdGF0ZSA9IHRoaXMucm90YXRpb25zIC8gMTAwMCAqIHRpbWVEaWZmICogTWF0aC5QSSAqIDJcclxuICAgICAgICAgICAgdGhpcy5hbmdsZSA9IHRoaXMuYW5nbGUgKyByb3RhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuYW5nbGUgPSB0aGlzLmFuZ2xlICUgKE1hdGguUEkgKiAyKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIuYSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcEN1cnJlbnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mID0gdGhpcy5wb3dlclVwRjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBDdXJyZW50IC09IHRpbWVEaWZmO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmYgPSB0aGlzLmZTdGFydDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZiA9IHRoaXMuZlN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcEN1cnJlbnQgPCB0aGlzLnBvd2VyVXBTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcEN1cnJlbnQgKz0gdGltZURpZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcEN1cnJlbnQgPiB0aGlzLnBvd2VyVXBTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBDdXJyZW50ID0gdGhpcy5wb3dlclVwU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZkZyaWN0aW9uWCA9IDAuNSAqIHRoaXMuQSAqIHRoaXMuY3cgKiB0aGlzLnAgKiB0aGlzLnZ4ICogTWF0aC5hYnModGhpcy52eCk7XHJcbiAgICAgICAgICAgIHZhciBmRnJpY3Rpb25ZID0gMC41ICogdGhpcy5BICogdGhpcy5jdyAqIHRoaXMucCAqIHRoaXMudnkgKiBNYXRoLmFicyh0aGlzLnZ5KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBheCA9IHRoaXMuZiAqIHRoaXMuY29udHJvbGxlci54QXhlcyAtIGZGcmljdGlvblggLyB0aGlzLm07XHJcbiAgICAgICAgICAgIHZhciBheSA9IHRoaXMuZiAqIHRoaXMuY29udHJvbGxlci55QXhlcyAtIGZGcmljdGlvblkgLyB0aGlzLm07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZ4ICs9IGF4ICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIHRoaXMudnkgKz0gYXkgKiB0aW1lRGlmZjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMueCArPSB0aGlzLnZ4ICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIHRoaXMueSArPSB0aGlzLnZ5ICogdGltZURpZmY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NvcmVQb3NpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdTY29yZShjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3SW5mbyhjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdCbGFkZShjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2NvcmVQb3NpdGlvbjogbnVtYmVyO1xyXG4gICAgcHVibGljIGlNRG9uZSA9IChibGFkZTogQmxhZGUpID0+IHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3U2NvcmUoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0QmxhZGVDb2xvcigpO1xyXG4gICAgICAgIGN0eC5mb250ID0gXCI3NnB4IHNhbnMtc2VyaWZcIjtcclxuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuc2NvcmVQb3NpdGlvbi50b1N0cmluZygpICsgXCIuXCI7XHJcbiAgICAgICAgdmFyIGFkZGl0aW9uYWxTcGFjZSA9IDMwO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5ibGFkZU51bWJlcikge1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCBhZGRpdGlvbmFsU3BhY2UsIGFkZGl0aW9uYWxTcGFjZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJyaWdodFwiO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQsIHdpZHRoIC0gYWRkaXRpb25hbFNwYWNlLCBhZGRpdGlvbmFsU3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcImJvdHRvbVwiO1xyXG4gICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQsIGFkZGl0aW9uYWxTcGFjZSwgaGVpZ2h0IC0gYWRkaXRpb25hbFNwYWNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJib3R0b21cIjtcclxuICAgICAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcInJpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQodGV4dCwgd2lkdGggLSBhZGRpdGlvbmFsU3BhY2UsIGhlaWdodCAtIGFkZGl0aW9uYWxTcGFjZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3QmxhZGUoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBpZiAodGhpcy5yb3RhdGlvbnMgPiAwKSB7XHJcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgICAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xyXG4gICAgICAgICAgICB2YXIgY3ViZVNpemUgPSBNYXRoLnNxcnQodGhpcy5yICogdGhpcy5yIC8gMik7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgtY3ViZVNpemUsIC1jdWJlU2l6ZSwgY3ViZVNpemUgKiAyLCBjdWJlU2l6ZSAqIDIpO1xyXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYXdJbmZvKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIHZhciBsaWZlID0gdGhpcy5yb3RhdGlvbnMgLyB0aGlzLnN0YXJ0Um90YXRpb25zICogd2lkdGggLyA0O1xyXG4gICAgICAgIHZhciBwb3dlclVwID0gdGhpcy5wb3dlclVwQ3VycmVudCAvIHRoaXMucG93ZXJVcFN0YXJ0ICogd2lkdGggLyA0O1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMTQ4LCAwLCAyMTEsIDAuNilcIjtcclxuICAgICAgICBpZiAodGhpcy5ibGFkZU51bWJlciA8IDEgfHwgdGhpcy5ibGFkZU51bWJlciA+IDQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcj9cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5ibGFkZU51bWJlcikge1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMzAsIHBvd2VyVXAsIDIwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3Qod2lkdGgsIDMwLCAtcG93ZXJVcCwgMjApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCBoZWlnaHQgLSAzMCwgcG93ZXJVcCwgLTIwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3Qod2lkdGgsIGhlaWdodCAtIDMwLCAtcG93ZXJVcCwgLTIwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5nZXRCbGFkZUNvbG9yKCk7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmJsYWRlTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBsaWZlLCAzMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHdpZHRoLCAwLCAtbGlmZSwgMzApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCBoZWlnaHQsIGxpZmUsIC0zMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHdpZHRoLCBoZWlnaHQsIC1saWZlLCAtMzApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0QmxhZGVDb2xvcigpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuYmxhZGVOdW1iZXIpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwicmVkXCI7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImdyZWVuXCI7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImJsdWVcIjtcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwib3JhbmdlXCI7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEFuaW1hdGFibGUgfSBmcm9tIFwiLi9lbmMvYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEJsYWRlIH0gZnJvbSBcIi4vYmxhZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xsaWRlciBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYmxhZGVzOiBCbGFkZVtdLCBwcml2YXRlIGJvcmRlclJpZ2h0OiBudW1iZXIsIHByaXZhdGUgYm9yZGVyQm90dG9tOiBudW1iZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmxhZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsYWRlID0gdGhpcy5ibGFkZXNbaV07XHJcbiAgICAgICAgICAgIHRoaXMud2FsbENvbGxpc2lvbihibGFkZSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYmxhZGVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA8PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBibGFkZTIgPSB0aGlzLmJsYWRlc1tqXTtcclxuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZVggPSBibGFkZTIueCAtIGJsYWRlLng7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VZID0gYmxhZGUyLnkgLSBibGFkZS55O1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRpc3RhbmNlWCAqIGRpc3RhbmNlWCArIGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IGJsYWRlLnIgKiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb2xsaXNpb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbkNvcnJlY3Rpb24oZGlzdGFuY2UsIGJsYWRlLCBkaXN0YW5jZVgsIGRpc3RhbmNlWSwgYmxhZGUyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxpc2lvblYyKGRpc3RhbmNlWSwgZGlzdGFuY2VYLCBibGFkZSwgYmxhZGUyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgd2FsbENvbGxpc2lvbihibGFkZTogQmxhZGUpIHtcclxuICAgICAgICBpZiAoYmxhZGUueCAtIGJsYWRlLnIgPCAwKSB7XHJcbiAgICAgICAgICAgIGJsYWRlLnZ4ID0gLWJsYWRlLnZ4O1xyXG4gICAgICAgICAgICBibGFkZS54ID0gYmxhZGUuciAtIGJsYWRlLnggKyBibGFkZS5yO1xyXG4gICAgICAgICAgICBibGFkZS5jb2xsaXNpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYmxhZGUueCArIGJsYWRlLnIgPiB0aGlzLmJvcmRlclJpZ2h0KSB7XHJcbiAgICAgICAgICAgIGJsYWRlLnZ4ID0gLWJsYWRlLnZ4O1xyXG4gICAgICAgICAgICBibGFkZS54ID0gdGhpcy5ib3JkZXJSaWdodCAtIChibGFkZS54ICsgYmxhZGUuciAtIHRoaXMuYm9yZGVyUmlnaHQpIC0gYmxhZGUucjtcclxuICAgICAgICAgICAgYmxhZGUuY29sbGlzaW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChibGFkZS55IC0gYmxhZGUuciA8IDApIHtcclxuICAgICAgICAgICAgYmxhZGUudnkgPSAtYmxhZGUudnk7XHJcbiAgICAgICAgICAgIGJsYWRlLnkgPSBibGFkZS5yIC0gYmxhZGUueSArIGJsYWRlLnI7XHJcbiAgICAgICAgICAgIGJsYWRlLmNvbGxpc2lvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChibGFkZS55ICsgYmxhZGUuciA+IHRoaXMuYm9yZGVyQm90dG9tKSB7XHJcbiAgICAgICAgICAgIGJsYWRlLnZ5ID0gLWJsYWRlLnZ5O1xyXG4gICAgICAgICAgICBibGFkZS55ID0gdGhpcy5ib3JkZXJCb3R0b20gLSAoYmxhZGUueSArIGJsYWRlLnIgLSB0aGlzLmJvcmRlckJvdHRvbSkgLSBibGFkZS5yO1xyXG4gICAgICAgICAgICBibGFkZS5jb2xsaXNpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb2xsaXNpb25WMihkaXN0YW5jZVk6IG51bWJlciwgZGlzdGFuY2VYOiBudW1iZXIsIGJsYWRlMTogQmxhZGUsIGJsYWRlMjogQmxhZGUpIHtcclxuICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcclxuICAgICAgICB2YXIgcDF4ID0gYmxhZGUxLnZ4ICogMiAqIGJsYWRlMS5tO1xyXG4gICAgICAgIHZhciBwMXkgPSBibGFkZTEudnkgKiAyICogYmxhZGUxLm07XHJcbiAgICAgICAgdmFyIHAxID0gTWF0aC5zcXJ0KHAxeCAqIHAxeCArIHAxeSAqIHAxeSk7XHJcbiAgICAgICAgdmFyIHAxeEFuZ2xlZCA9IGRpc3RhbmNlWCAvIGRpc3RhbmNlICogcDE7XHJcbiAgICAgICAgdmFyIHAxeUFuZ2xlZCA9IGRpc3RhbmNlWSAvIGRpc3RhbmNlICogcDE7XHJcblxyXG4gICAgICAgIHZhciBwMnggPSBibGFkZTIudnggKiAzICogYmxhZGUyLm07XHJcbiAgICAgICAgdmFyIHAyeSA9IGJsYWRlMi52eSAqIDMgKiBibGFkZTIubTtcclxuICAgICAgICB2YXIgcDIgPSBNYXRoLnNxcnQocDJ4ICogcDJ4ICsgcDJ5ICogcDJ5KTtcclxuICAgICAgICB2YXIgcDJ4QW5nbGVkID0gLWRpc3RhbmNlWCAvIGRpc3RhbmNlICogcDI7XHJcbiAgICAgICAgdmFyIHAyeUFuZ2xlZCA9IC1kaXN0YW5jZVkgLyBkaXN0YW5jZSAqIHAyO1xyXG4gICAgICAgIGJsYWRlMi52eCArPSBwMXhBbmdsZWQgLyBibGFkZTIubTtcclxuICAgICAgICBibGFkZTIudnkgKz0gcDF5QW5nbGVkIC8gYmxhZGUyLm07XHJcbiAgICAgICAgYmxhZGUxLnZ4ICs9IHAyeEFuZ2xlZCAvIGJsYWRlMS5tO1xyXG4gICAgICAgIGJsYWRlMS52eSArPSBwMnlBbmdsZWQgLyBibGFkZTEubTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBvc2l0aW9uQ29ycmVjdGlvbihkaXN0YW5jZTogbnVtYmVyLCBibGFkZTogQmxhZGUsIGRpc3RhbmNlWDogbnVtYmVyLCBkaXN0YW5jZVk6IG51bWJlciwgYmxhZGUyOiBCbGFkZSkge1xyXG4gICAgICAgIHZhciBjb3JyZWN0aW9uID0gKGRpc3RhbmNlIC0gYmxhZGUuciAqIDIpIC8gMjtcclxuICAgICAgICB2YXIgY29ycmVjdGlvbkZhY3RvciA9IGNvcnJlY3Rpb24gLyBkaXN0YW5jZTtcclxuICAgICAgICB2YXIgY29ycmVjdGlvbnggPSBjb3JyZWN0aW9uRmFjdG9yICogZGlzdGFuY2VYO1xyXG4gICAgICAgIHZhciBjb3JyZWN0aW9ueSA9IGNvcnJlY3Rpb25GYWN0b3IgKiBkaXN0YW5jZVk7XHJcbiAgICAgICAgYmxhZGUueCArPSBjb3JyZWN0aW9ueDtcclxuICAgICAgICBibGFkZS55ICs9IGNvcnJlY3Rpb255O1xyXG4gICAgICAgIGJsYWRlMi54IC09IGNvcnJlY3Rpb254O1xyXG4gICAgICAgIGJsYWRlMi55IC09IGNvcnJlY3Rpb255O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi9lbmMvdmlld1wiO1xyXG5pbXBvcnQgeyBCbGFkZSB9IGZyb20gXCIuL2JsYWRlXCI7XHJcbmltcG9ydCB7IENvbGxpZGVyIH0gZnJvbSBcIi4vY29sbGlkZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lVmlldyBleHRlbmRzIFZpZXcge1xyXG5cclxuICAgIHByaXZhdGUgc3RhcnRlZCA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgYmxhZGVzOiBCbGFkZVtdID0gW107XHJcbiAgICBwdWJsaWMgc3RhcnQoY29udHJvbGxlcnM6IENvbnRyb2xsZXJbXSkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbigoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYigxOTEsIDE5MSwgMTkxKVwiO1xyXG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICAgICAgY3R4LmZvbnQgPSBcIjYycHggc2Fucy1zZXJpZlwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQoXCJEb24ndCBoaXQgdGhlIGJvcmRlciA7KVwiLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSAyMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGNvbnRyb2xsZXJzKTtcclxuICAgICAgICB0aGlzLnNjb3JlUG9zaXRpb24gPSBjb250cm9sbGVycy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udHJvbGxlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IGNvbnRyb2xsZXJzW2ldO1xyXG4gICAgICAgICAgICB2YXIgYmxhZGUgPSBuZXcgQmxhZGUoY29udHJvbGxlcik7XHJcbiAgICAgICAgICAgIGxldCBzdGFydFggPSAwO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRZID0gMDtcclxuICAgICAgICAgICAgc3dpdGNoIChpICsgMSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHRoaXMud2lkdGggLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IHRoaXMuaGVpZ2h0IC8gMztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSB0aGlzLndpZHRoIC8gMyAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRZID0gdGhpcy5oZWlnaHQgLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHRoaXMud2lkdGggLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IHRoaXMuaGVpZ2h0IC8gMyAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gdGhpcy53aWR0aCAvIDMgKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IHRoaXMuaGVpZ2h0IC8gMyAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmxhZGUuYmxhZGVOdW1iZXIgPSBpICsgMTtcclxuICAgICAgICAgICAgYmxhZGUueCA9IHN0YXJ0WDtcclxuICAgICAgICAgICAgYmxhZGUueSA9IHN0YXJ0WTtcclxuICAgICAgICAgICAgYmxhZGUuaU1Eb25lID0gdGhpcy5ibGFkZUlzRG9uZTtcclxuICAgICAgICAgICAgdGhpcy5ibGFkZXMucHVzaChibGFkZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZShibGFkZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZShuZXcgQ29sbGlkZXIodGhpcy5ibGFkZXMsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzY29yZVBvc2l0aW9uOiBudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBibGFkZUlzRG9uZSA9IChibGFkZTogQmxhZGUpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImJsYWRlIGlzIGRvbmUsIHNjb3JlOiBcIiArIHRoaXMuc2NvcmVQb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGJsYWRlLnNjb3JlUG9zaXRpb24gPSB0aGlzLnNjb3JlUG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5zY29yZVBvc2l0aW9uLS07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRpb24gfSBmcm9tIFwiLi9lbmMvYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IE1lbnVWaWV3IH0gZnJvbSBcIi4vbWVudVZpZXdcIjtcclxuaW1wb3J0IHsgR2FtZVZpZXcgfSBmcm9tIFwiLi9nYW1lVmlld1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgYW5pbWF0aW9uOiBBbmltYXRpb247XHJcbiAgICBtZW51OiBNZW51VmlldztcclxuICAgIGdhbWU6IEdhbWVWaWV3O1xyXG5cclxuICAgIHB1YmxpYyBydW4oKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBBbmltYXRpb24uY3JlYXRlSW5Cb2R5KCk7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbmV3IE1lbnVWaWV3KHRoaXMuc3RhcnQpO1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IG5ldyBHYW1lVmlldygpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFkZFZpZXcodGhpcy5tZW51KTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRWaWV3KHRoaXMuZ2FtZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubWVudS5oaWRlKCk7XHJcbiAgICAgICAgdGhpcy5tZW51LnVubG9hZCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5zaG93KCk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnN0YXJ0KHRoaXMubWVudS5jb250cm9sbGVycyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gIGNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcclxuICBhcHAucnVuKCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9